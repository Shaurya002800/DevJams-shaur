<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SomnoShield - Advanced Sleep Monitoring</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #24062c;
            color: white;
            overflow-x: hidden;
        }

        .character.following {
    position: fixed !important;
    z-index: 10000 !important;
    pointer-events: none;
    transition: all 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
    animation: none !important;
}

.character.following .character-head,
.character.following .character-torso,
.character.following .character-arm,
.character.following .character-leg {
    animation-duration: 0.8s !important;
}

.character.following .character-arm.left {
    animation: armSwingFast 0.8s ease-in-out infinite;
}

.character.following .character-arm.right {
    animation: armSwingFast 0.8s ease-in-out infinite reverse;
}

.character.following .character-leg.left {
    animation: legWalkFast 0.8s ease-in-out infinite;
}

.character.following .character-leg.right {
    animation: legWalkFast 0.8s ease-in-out infinite reverse;
}

@keyframes armSwingFast {
    0%, 100% { transform: rotate(-10deg); }
    50% { transform: rotate(25deg); }
}

@keyframes legWalkFast {
    0%, 100% { transform: rotate(-15deg); }
    50% { transform: rotate(35deg); }
}

/* Character movement direction indicator */
.character.following.moving-left {
    transform: scaleX(-1) !important;
}

.character.following.moving-right {
    transform: scaleX(1) !important;
}



        /* Landing Page - 3D Bedroom Scene */
        .landing-page {
            position: relative;
            min-height: 100vh;
            perspective: 1500px;
            background: radial-gradient(circle at 30% 20%, rgba(97, 21, 116, 0.8), rgb(26, 10, 35));
            overflow: hidden;
        }

        .bedroom-scene {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            cursor: grab;
            transition: transform 0.3s ease;
        }

        .bedroom-scene:active {
            cursor: grabbing;
        }

        /* Room Structure */
        .room {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
        }

        .floor {
            position: absolute;
            width: 100%;
            height: 200%;
            left: -0%;
            top: -0%;
            background: 
                repeating-linear-gradient(90deg,
                    transparent 0px,
                    transparent 80px,
                    rgba(139, 125, 107, 0.2) 80px,
                    rgba(139, 125, 107, 0.2) 82px
                ),
                repeating-linear-gradient(0deg,
                    transparent 0px,
                    transparent 120px,
                    rgba(139, 125, 107, 0.1) 120px,
                    rgba(139, 125, 107, 0.1) 122px
                ),
                linear-gradient(135deg, #4a3f35 0%, #3e342a 50%, #2d2419 100%);
            transform: rotateX(-90deg) translateZ(-100vh);
            box-shadow: 
                inset 0 0 100px rgba(0, 0, 0, 0.5),
                0 0 50px rgba(0, 0, 0, 0.8);
        }

        .wall {
            position: absolute;
            background: linear-gradient(135deg, #6b5d4f 0%, #5a4c3f 50%, #4a3f35 100%);
            box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.3);
        }

        .back-wall {
            width: 100%;
            height: 100vh;
            transform: translateZ(-80vw);
            background: 
                radial-gradient(circle at 70% 30%, rgba(139, 125, 107, 0.3), transparent 60%),
                linear-gradient(135deg, #7a6c5a 0%, #6b5d4f 50%, #5a4c3f 100%);
        }


        .left-wall {
            width: 100vw;
            height: 100vh;
            transform: rotateY(90deg) translateZ(-0vw);
            transform-origin: left;
        }

        .right-wall {
            width: 80vw;
            height: 100vh;
            transform: rotateY(-90deg) translateZ(-15vw);
            transform-origin: right;
        }

        /* Walking Character */
        .character {
            position: absolute;
            bottom: 22vh;
            left: 5%;
            width: 80px;
            height: 120px;
            transform: translateZ(100px);
            cursor: pointer;
            z-index: 100;
            animation: walkToSleep 10s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        .character:hover {
            transform: translateZ(120px) scale(1.1);
        }

        .character-body {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
        }

        .character-head {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 28px;
            height: 28px;
            background: radial-gradient(circle at 30% 30%, #fdbcb4, #f4a09c);
            border-radius: 50%;
            box-shadow: 
                0 3px 10px rgba(0, 0, 0, 0.3),
                inset 0 2px 4px rgba(255, 255, 255, 0.3);
            animation: headBob 1.2s ease-in-out infinite;
        }

        .character-head::before {
            content: '';
            position: absolute;
            top: 8px;
            left: 8px;
            width: 4px;
            height: 4px;
            background: #2c3e50;
            border-radius: 50%;
            box-shadow: 8px 0 0 #2c3e50;
        }

        .character-head::after {
            content: '';
            position: absolute;
            top: 18px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 2px;
            background: #e74c3c;
            border-radius: 2px;
        }

        .character-torso {
            position: absolute;
            top: 26px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 50px;
            background: linear-gradient(135deg, #4a90e2, #357abd);
            border-radius: 8px 8px 12px 12px;
            box-shadow: 
                0 4px 12px rgba(0, 0, 0, 0.3),
                inset 0 2px 4px rgba(255, 255, 255, 0.2);
        }

        .character-arm {
            position: absolute;
            width: 10px;
            height: 38px;
            background: linear-gradient(135deg, #fdbcb4, #f4a09c);
            border-radius: 5px;
            top: 32px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .character-arm.left {
            left: 12px;
            transform-origin: top;
            animation: armSwing 1.2s ease-in-out infinite;
        }

        .character-arm.right {
            right: 12px;
            transform-origin: top;
            animation: armSwing 1.2s ease-in-out infinite reverse;
        }

        .character-leg {
            position: absolute;
            width: 12px;
            height: 45px;
            background: linear-gradient(135deg, #2c3e50, #34495e);
            border-radius: 6px;
            top: 70px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.4);
        }

        .character-leg.left {
            left: 22px;
            transform-origin: top;
            animation: legWalk 1.2s ease-in-out infinite;
        }

        .character-leg.right {
            right: 22px;
            transform-origin: top;
            animation: legWalk 1.2s ease-in-out infinite reverse;
        }

        .character-foot {
            position: absolute;
            bottom: -3px;
            width: 18px;
            height: 10px;
            background: #34495e;
            border-radius: 4px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        /* Enhanced Bed */
        .bed {
            position: absolute;
            bottom: 20vh;
            left: 54%;
            width: 220px;
            height: 140px;
            transform-style: preserve-3d;
            transform: translateZ(50px);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .bed:hover {
            transform: translateZ(60px) scale(1.05);
        }

        .bed-frame {
            position: absolute;
            width: 110%;
            height: 20px;
            left: -5%;
            bottom: -2px;
            background: linear-gradient(135deg, #8d6e63, #6d4c41);
            border-radius: 10px;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.5),
                inset 0 2px 5px rgba(255, 255, 255, 0.2);
        }

        .mattress {
            position: absolute;
            width: 100%;
            height: 75%;
            background: linear-gradient(135deg, #744aa8 0%, #a06bd1 50%, #9a4aa8 100%);
            border-radius: 18px;
            transform: translateZ(20px);
            box-shadow: 
                0 6px 20px rgba(0, 0, 0, 0.4),
                inset 0 3px 8px rgba(255, 255, 255, 0.2);
            animation: bedBreathe 4s infinite ease-in-out;
        }

        .pillow {
            position: absolute;
            width: 40px;
            height: 28px;
            background: linear-gradient(135deg, #f8f8f8, #e8e8e8);
            border-radius: 20px;
            top: 10px;
            transform: translateZ(12px);
            box-shadow: 
                0 4px 12px rgba(0, 0, 0, 0.3),
                inset 0 2px 4px rgba(255, 255, 255, 0.8);
            animation: pillowFloat 2s infinite ease-in-out;
        }

        .pillow:first-child {
            left: 25px;
        }

        .pillow:last-child {
            right: 25px;
            animation-delay: -3s;
        }

        .blanket {
            position: absolute;
            width: 90%;
            height: 65%;
            left: 5%;
            bottom: 8%;
            background: linear-gradient(45deg, #763a98, #7f4aa8, #5a2d87);
            border-radius: 10px;
            transform: translateZ(8px);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.4);
            clip-path: polygon(0% 20%, 100% 0%, 100% 80%, 0% 100%);
            animation: blanketWave 2s infinite ease-in-out;
        }

        /* Health Cabinet */
        .health-cabinet {
            position: absolute;
            top: 19%;
            right: 64%;
            width: 160px;
            height: 200px;
            transform: translateZ(30px);
            cursor: pointer;
            transition: all 0.4s ease;
            transform-style: preserve-3d;
        }

        .health-cabinet:hover {
            transform: translateZ(40px) scale(1.08);
        }

        .cabinet-body {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #8d6e63, #6d4c41);
            border-radius: 12px;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.5),
                inset 0 3px 8px rgba(255, 255, 255, 0.2);
        }

        .cabinet-door {
            position: absolute;
            width: 48%;
            height: 75%;
            top: 12%;
            background: linear-gradient(135deg, #a1887f, #8d6e63);
            border-radius: 6px;
            box-shadow: 
                inset 0 0 15px rgba(0, 0, 0, 0.4),
                0 3px 10px rgba(0, 0, 0, 0.3);
            transition: transform 0.6s ease;
        }

        .cabinet-door.left {
            left: 4%;
            transform-origin: left;
        }

        .cabinet-door.right {
            right: 4%;
            transform-origin: right;
        }

        .health-cabinet:hover .cabinet-door.left {
            transform: rotateY(-35deg);
        }

        .health-cabinet:hover .cabinet-door.right {
            transform: rotateY(35deg);
        }

        .door-handle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #ffd54f;
            border-radius: 50%;
            top: 50%;
            box-shadow: 0 0 8px rgba(255, 213, 79, 0.9);
        }

        .cabinet-door.left .door-handle {
            right: 4px;
        }

        .cabinet-door.right .door-handle {
            left: 4px;
        }

        .health-records {
            position: absolute;
            width: 10px;
            height: 18px;
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-radius: 2px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        .health-records:nth-child(4) { top: 28%; left: 18%; }
        .health-records:nth-child(5) { top: 28%; left: 35%; }
        .health-records:nth-child(6) { top: 50%; left: 25%; }
        .health-records:nth-child(7) { top: 72%; left: 30%; }

        /* Nightstand with Advanced Monitoring */
        .nightstand {
            position: absolute;
            bottom: 18vh;
            right: 70.5%;
            width: 100px;
            height: 120px;
            transform: translateZ(25px);
            transform-style: preserve-3d;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nightstand:hover {
            transform: translateZ(45px) scale(1.05);
        }

        .nightstand-body {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #8d6e63, #6d4c41);
            border-radius: 8px;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.5),
                inset 0 2px 5px rgba(255, 255, 255, 0.2);
        }

        .monitoring-device {
            position: absolute;
            top: -35px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 30px;
            background: rgba(0, 0, 0, 0.9);
            border-radius: 8px;
            border: 2px solid rgba(110, 94, 216, 0.6);
            box-shadow: 
                0 0 20px rgba(136, 62, 205, 0.4),
                inset 0 0 10px rgba(0, 0, 0, 0.2);
            animation: deviceGlow 3s infinite ease-in-out;
        }

        .device-screen {
            position: absolute;
            width: 90%;
            height: 75%;
            left: 5%;
            top: 12.5%;
            background: #000;
            border-radius: 4px;
            overflow: hidden;
        }

        .heartbeat-line {
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(90deg,
                    transparent 0px,
                    transparent 4px,
                    #00ff88 4px,
                    #00ff88 5px
                );
            animation: heartbeatScroll 1.5s infinite linear;
        }

        /* Enhanced Window */
        .window {
            position: absolute;
            top: 18%;
            right: 20%;
            width: 180px;
            height: 210px;
            transform: translateZ(-10px);
            transform-style: preserve-3d;
        }

        .window-frame {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #3e2723, #5d4037);
            border-radius: 12px;
            padding: 10px;
            box-shadow: 
                inset 0 0 20px rgba(0, 0, 0, 0.6),
                0 10px 30px rgba(0, 0, 0, 0.4);
        }

        .window-glass {
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 25% 20%, rgba(255, 255, 255, 0.1), transparent 40%),
                linear-gradient(180deg, #0d1b2a 0%, #1b2b47 35%, #0f1419 100%);
            border-radius: 8px;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 25px rgba(0, 0, 0, 0.5);
        }

        .moon {
            position: absolute;
            top: 30px;
            right: 35px;
            width: 35px;
            height: 35px;
            background: radial-gradient(circle at 25% 25%, #fff9c4, #f5f5dc);
            border-radius: 50%;
            box-shadow: 
                0 0 25px rgba(255, 249, 196, 0.8),
                0 0 50px rgba(255, 249, 196, 0.4);
            animation: moonGlow 1s infinite ease-in-out alternate;
        }

        .moon::after {
            content: '';
            position: absolute;
            top: 8px;
            left: 8px;
            width: 8px;
            height: 8px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            box-shadow: 12px 5px 0 2px rgba(0, 0, 0, 0.08);
        }

        .stars {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .star {
            position: absolute;
            background: #ffffff;
            border-radius: 50%;
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.9);
            animation: starTwinkle 2s infinite alternate;
        }

        .star:nth-child(1) { 
            top: 20px; left: 20px; width: 3px; height: 3px; 
            animation-delay: 0s; 
        }
        .star:nth-child(2) { 
            top: 50px; left: 30px; width: 4px; height: 4px; 
            animation-delay: 1s; 
        }
        .star:nth-child(3) { 
            top: 80px; left: 70px; width: 2px; height: 2px; 
            animation-delay: 2s;
        }
        .star:nth-child(4) { 
            top: 120px; left: 55px; width: 3px; height: 3px; 
            animation-delay: 1.5s;
        }
        .star:nth-child(5) { 
            top: 65px; left: 90px; width: 4px; height: 4px; 
            animation-delay: 0.5s;
        }

        /* Page Navigation */
        .page {
            display: none;
            min-height: 100vh;
            padding: 20px;
        }

        .page.active {
            display: block;
        }

        /* Navigation Bar */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 40px;
            background: rgba(10, 15, 44, 0.9);
            backdrop-filter: blur(15px);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
            z-index: 1000;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #a75be1;
            text-shadow: 0 0 10px rgba(197, 79, 247, 0.7);
            cursor: pointer;
        }

        .nav-links {
            display: flex;
            gap: 20px;
        }

        .nav-btn {
            background: transparent;
            border: 2px solid #a64ff7;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .nav-btn:hover, .nav-btn.active {
            background: #4fc3f7;
            color: #0a0f2c;
            box-shadow: 0 0 15px rgba(79, 195, 247, 0.7);
            transform: translateY(-2px);
        }

        /* Analysis Page */
        .analysis-page {
            background: linear-gradient(135deg, #0a0f2c, #1a1f4d);
            min-height: 100vh;
            padding: 80px 20px 20px;
        }

        .analysis-container {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .analysis-header {
            margin-bottom: 40px;
        }

        .analysis-header h2 {
            font-size: 2.5rem;
            color: #4fc3f7;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(79, 195, 247, 0.5);
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .status-card {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(79, 195, 247, 0.3);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(15px);
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .status-card:hover {
            transform: translateY(-5px);
            border-color: rgba(79, 195, 247, 0.6);
            box-shadow: 
                0 15px 40px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(79, 195, 247, 0.3);
        }

        .status-card h3 {
            color: #4fc3f7;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .status-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .status-normal {
            color: #00ff88;
        }

        .status-warning {
            color: #ffd700;
        }

        .status-critical {
            color: #ff6b6b;
        }

        .chart-container {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(79, 195, 247, 0.3);
        }

        .chart {
            width: 100%;
            height: 300px;
            background: #000;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .chart-line {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 50%;
            background: repeating-linear-gradient(90deg,
                transparent 0px,
                transparent 8px,
                #00ff88 8px,
                #00ff88 10px
            );
            animation: chartScroll 2s infinite linear;
        }

        .control-panel {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .control-btn {
            background: linear-gradient(135deg, #4fc3f7, #0288d1);
            border: none;
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(79, 195, 247, 0.3);
        }

        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(79, 195, 247, 0.5);
        }

        .control-btn.active {
            background: linear-gradient(135deg, #00ff88, #00cc70);
            animation: pulse 2s infinite;
        }

        /* Emergency Alert System */
        .emergency-alert {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 0, 0, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            color: white;
            font-size: 28px;
            font-weight: bold;
            transform: scale(0);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .emergency-alert.active {
            transform: scale(1);
            opacity: 1;
            animation: emergencyPulse 1s infinite;
        }

        .alert-icon {
            font-size: 80px;
            margin-bottom: 20px;
            animation: shake 0.5s infinite;
        }

        .alert-message {
            text-align: center;
            margin-bottom: 30px;
            max-width: 600px;
            line-height: 1.4;
        }

        .alert-timer {
            font-size: 60px;
            color: #ffff00;
            margin: 30px 0;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.5);
            animation: timerPulse 1s infinite;
        }

        .alert-actions {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .stop-alert-btn {
            background: #ffffff;
            color: #ff0000;
            border: none;
            padding: 20px 40px;
            font-size: 20px;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .stop-alert-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 25px rgba(255, 255, 255, 0.9);
        }

        /* Health Recommendations */
        .recommendations-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 500px;
            max-height: 80vh;
            background: rgba(10, 20, 40, 0.95);
            backdrop-filter: blur(25px);
            border: 3px solid rgba(255, 107, 107, 0.5);
            border-radius: 25px;
            padding: 40px;
            color: white;
            box-shadow: 
                0 25px 80px rgba(0, 0, 0, 0.8),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            z-index: 9999;
            opacity: 0;
            transition: all 0.4s ease;
            overflow-y: auto;
        }

        .recommendations-panel.active {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        .recommendations-panel h3 {
            color: #ff6b6b;
            text-align: center;
            margin-bottom: 30px;
            font-size: 24px;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }

        .abnormality-detected {
            background: rgba(255, 107, 107, 0.2);
            border: 2px solid rgba(255, 107, 107, 0.5);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            text-align: center;
        }

        .abnormality-type {
            font-size: 18px;
            font-weight: bold;
            color: #ff6b6b;
            margin-bottom: 10px;
        }

        .recommendation-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #4fc3f7;
            transition: all 0.3s ease;
        }

        .recommendation-item:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateX(5px);
        }

        .recommendation-item h4 {
            color: #4fc3f7;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .recommendation-item p {
            line-height: 1.5;
            opacity: 0.9;
        }

        .close-recommendations-btn {
            width: 100%;
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            border: none;
            color: white;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 25px;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .close-recommendations-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        /* Health Records Cabinet */
        .health-records-panel {
            position: fixed;
            top: 0;
            right: -100%;
            width: 400px;
            height: 100vh;
            background: rgba(10, 20, 40, 0.95);
            backdrop-filter: blur(20px);
            border-left: 3px solid rgba(79, 195, 247, 0.5);
            padding: 30px;
            color: white;
            box-shadow: -10px 0 50px rgba(0, 0, 0, 0.7);
            z-index: 9998;
            transition: right 0.5s ease;
            overflow-y: auto;
        }

        .health-records-panel.active {
            right: 0;
        }

        .records-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(79, 195, 247, 0.3);
        }

        .records-header h3 {
            color: #4fc3f7;
            font-size: 24px;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(79, 195, 247, 0.5);
        }

        .record-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            border: 1px solid rgba(79, 195, 247, 0.3);
            transition: all 0.3s ease;
        }

        .record-item:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(79, 195, 247, 0.6);
            transform: translateX(-5px);
        }

        .record-date {
            font-size: 14px;
            color: #4fc3f7;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .record-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .record-status.normal {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
            border: 1px solid #00ff88;
        }

        .record-status.warning {
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
            border: 1px solid #ffd700;
        }

        .record-status.critical {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
            border: 1px solid #ff6b6b;
        }

        .record-details {
            font-size: 14px;
            line-height: 1.4;
            opacity: 0.9;
        }

        .close-records-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: transparent;
            border: 2px solid #ff6b6b;
            color: #ff6b6b;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s ease;
        }

        .close-records-btn:hover {
            background: #ff6b6b;
            color: white;
            transform: rotate(90deg);
        }

        /* Login/Signup Pages */
        .auth-page {
            background: linear-gradient(135deg, #0a0f2c, #1a1f4d);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .auth-page::before {
            content: '';
            position: absolute;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(79, 195, 247, 0.2), transparent 70%);
            border-radius: 50%;
            top: var(--mouseY, 20%);
            left: var(--mouseX, 50%);
            transform: translate(-50%, -50%);
            pointer-events: none;
            animation: floatingGlow 6s infinite ease-in-out;
        }

        .auth-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(79, 195, 247, 0.3);
            border-radius: 25px;
            padding: 50px;
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            text-align: center;
            min-width: 400px;
        }

        .auth-container h2 {
            color: #4fc3f7;
            font-size: 2rem;
            margin-bottom: 30px;
            text-shadow: 0 0 10px rgba(79, 195, 247, 0.5);
        }

        .input-group {
            margin: 20px 0;
            text-align: left;
        }

        .input-group label {
            display: block;
            color: #4fc3f7;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid rgba(79, 195, 247, 0.3);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: #4fc3f7;
            box-shadow: 0 0 15px rgba(79, 195, 247, 0.4);
            background: rgba(255, 255, 255, 0.15);
        }

        .auth-btn {
            width: 100%;
            background: linear-gradient(135deg, #4fc3f7, #0288d1);
            border: none;
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(79, 195, 247, 0.3);
        }

        .auth-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(79, 195, 247, 0.5);
        }

        .auth-switch {
            margin-top: 20px;
            color: rgba(255, 255, 255, 0.8);
        }

        .auth-switch a {
            color: #4fc3f7;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .auth-switch a:hover {
            color: #ffffff;
            text-shadow: 0 0 5px rgba(79, 195, 247, 0.8);
        }

        /* About Page */
        .about-page {
            background: linear-gradient(135deg, #0a0f2c, #1a1f4d);
            min-height: 100vh;
            padding: 80px 20px 20px;
        }

        .about-container {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .about-header {
            margin-bottom: 60px;
        }

        .about-header h2 {
            font-size: 3rem;
            color: #4fc3f7;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(79, 195, 247, 0.5);
        }

        .about-header p {
            font-size: 1.3rem;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            opacity: 0.9;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-bottom: 60px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(79, 195, 247, 0.3);
            border-radius: 25px;
            padding: 40px;
            backdrop-filter: blur(15px);
            box-shadow: 
                0 15px 40px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.4s ease;
        }

        .feature-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: rgba(79, 195, 247, 0.6);
            box-shadow: 
                0 25px 60px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(79, 195, 247, 0.3);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #4fc3f7;
            text-shadow: 0 0 15px rgba(79, 195, 247, 0.5);
        }

        .feature-card h3 {
            color: #4fc3f7;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .feature-card p {
            line-height: 1.6;
            opacity: 0.9;
        }

        /* Profile Page */
        .profile-page {
            background: linear-gradient(135deg, #0a0f2c, #1a1f4d);
            min-height: 100vh;
            padding: 80px 20px 20px;
        }

        .profile-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .profile-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #4fc3f7, #0288d1);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
            box-shadow: 0 10px 30px rgba(79, 195, 247, 0.3);
        }

        .profile-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
        }

        .info-card {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(79, 195, 247, 0.3);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(15px);
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .info-card h3 {
            color: #4fc3f7;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(79, 195, 247, 0.2);
        }

        .info-item:last-child {
            border-bottom: none;
        }

        .info-label {
            font-weight: 500;
            opacity: 0.8;
        }

        .info-value {
            color: #4fc3f7;
            font-weight: bold;
        }

        /* Interaction Hints */
        .interaction-hint {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 14px;
            animation: hintPulse 3s infinite;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            pointer-events: none;
        }

        /* Animations */
        @keyframes walkToSleep {
            0% { 
                left: 5%; 
                transform: translateZ(100px) scaleX(1); 
            }
            20% { 
                left: 25%; 
                transform: translateZ(100px) scaleX(1); 
            }
            40% { 
                left: 45%; 
                transform: translateZ(100px) scaleX(-1); 
            }
            60% { 
                left: 55%; 
                transform: translateZ(100px) scaleX(-1) scale(0.9); 
            }
            80% { 
                left: 55%; 
                transform: translateZ(100px) scaleX(-1) scale(0.7) translateY(15px); 
            }
            100% { 
                left: 55%; 
                transform: translateZ(100px) scaleX(-1) scale(0.6) translateY(25px); 
            }
        }

        @keyframes headBob {
            0%, 100% { transform: translateX(-50%) translateY(0px); }
            50% { transform: translateX(-50%) translateY(-3px); }
        }

        @keyframes armSwing {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(20deg); }
        }

        @keyframes legWalk {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(30deg); }
        }

        @keyframes bedBreathe {
            0%, 100% { transform: translateZ(20px) scaleY(1); }
            50% { transform: translateZ(22px) scaleY(1.02); }
        }

        @keyframes pillowFloat {
            0%, 100% { transform: translateZ(12px) translateY(0px); }
            50% { transform: translateZ(15px) translateY(-4px); }
        }

        @keyframes blanketWave {
            0%, 100% { clip-path: polygon(0% 20%, 100% 0%, 100% 80%, 0% 100%); }
            50% { clip-path: polygon(0% 15%, 100% 5%, 100% 85%, 0% 95%); }
        }

        @keyframes deviceGlow {
            0%, 100% { 
                box-shadow: 0 0 20px rgba(0, 200, 255, 0.4), inset 0 0 10px rgba(0, 200, 255, 0.2); 
            }
            50% { 
                box-shadow: 0 0 30px rgba(0, 200, 255, 0.6), inset 0 0 15px rgba(0, 200, 255, 0.3); 
            }
        }

        @keyframes heartbeatScroll {
            0% { background-position-x: 0px; }
            100% { background-position-x: 100px; }
        }

        @keyframes moonGlow {
            0% { 
                box-shadow: 0 0 25px rgba(255, 249, 196, 0.8), 0 0 50px rgba(255, 249, 196, 0.4);
                transform: scale(1);
            }
            100% { 
                box-shadow: 0 0 35px rgba(255, 249, 196, 1), 0 0 70px rgba(255, 249, 196, 0.6);
                transform: scale(1.05);
            }
        }

        @keyframes starTwinkle {
            0% { opacity: 0.4; transform: scale(1); }
            100% { opacity: 1; transform: scale(1.3); }
        }

        @keyframes chartScroll {
            0% { background-position-x: 0px; }
            100% { background-position-x: 200px; }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes emergencyPulse {
            0%, 100% { background: rgba(255, 0, 0, 0.95); }
            50% { background: rgba(255, 50, 50, 0.98); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        @keyframes timerPulse {
            0%, 100% { transform: scale(1); color: #ffff00; }
            50% { transform: scale(1.1); color: #ffffff; }
        }

        @keyframes floatingGlow {
            0%, 100% { 
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.6;
            }
            50% { 
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 0.8;
            }
        }

        @keyframes hintPulse {
            0%, 100% { 
                opacity: 0.8; 
                transform: translateX(-50%) scale(1); 
            }
            50% { 
                opacity: 1; 
                transform: translateX(-50%) scale(1.05); 
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                padding: 15px 20px;
            }
            
            .nav-links {
                margin-top: 15px;
            }
            
            .status-grid {
                grid-template-columns: 1fr;
            }
            
            .auth-container {
                min-width: 300px;
                padding: 30px;
            }
            
            .character {
                width: 60px;
                height: 90px;
            }
            
            .bed {
                width: 180px;
                height: 110px;
            }
            
            .health-records-panel {
                width: 90%;
            }
        }

        /* Hidden by default */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="logo" onclick="showPage('landing')">SomnoShield</div>
        <div class="nav-links">
            <button class="nav-btn" onclick="showPage('analysis')">Analysis</button>
            <button class="nav-btn" onclick="showPage('about')">About</button>
            <button class="nav-btn" onclick="showPage('profile')">Profile</button>
            <button class="nav-btn" onclick="showPage('login')">Login</button>
        </div>
    </nav>

    <!-- Landing Page -->
    <div id="landing" class="page active landing-page">
        <div class="bedroom-scene" id="bedroomScene">
            <div class="room">
                <div class="floor"></div>
                <div class="wall back-wall"></div>
                <div class="wall left-wall"></div>
                <div class="wall right-wall"></div>

                <!-- Walking Character -->
                <div class="character" id="character" onclick="startAnalysis()">
                    <div class="character-body">
                        <div class="character-head"></div>
                        <div class="character-torso"></div>
                        <div class="character-arm left"></div>
                        <div class="character-arm right"></div>
                        <div class="character-leg left"></div>
                        <div class="character-leg right"></div>
                        <div class="character-foot"></div>
                    </div>
                </div>

                <!-- Enhanced Bed -->
                <div class="bed" onclick="showAnalysisPanel()">
                    <div class="bed-frame"></div>
                    <div class="mattress">
                        <div class="pillow"></div>
                        <div class="pillow"></div>
                        <div class="blanket"></div>
                    </div>
                </div>

                <!-- Health Cabinet -->
                <div class="health-cabinet" onclick="showHealthRecords()">
                    <div class="cabinet-body">
                        <div class="cabinet-door left">
                            <div class="door-handle"></div>
                        </div>
                        <div class="cabinet-door right">
                            <div class="door-handle"></div>
                        </div>
                        <div class="health-records"></div>
                        <div class="health-records"></div>
                        <div class="health-records"></div>
                        <div class="health-records"></div>
                    </div>
                </div>

                <!-- Nightstand with Monitoring Device -->
                <div class="nightstand">
                    <div class="nightstand-body"></div>
                    <div class="monitoring-device">
                        <div class="device-screen">
                            <div class="heartbeat-line"></div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Window -->
                <div class="window">
                    <div class="window-frame">
                        <div class="window-glass">
                            <div class="moon"></div>
                            <div class="stars">
                                <div class="star"></div>
                                <div class="star"></div>
                                <div class="star"></div>
                                <div class="star"></div>
                                <div class="star"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="interaction-hint">
            Click on the character to start monitoring • Explore the bedroom
        </div>
    </div>

    <!-- Analysis Page -->
    <div id="analysis" class="page analysis-page">
        <div class="analysis-container">
            <div class="analysis-header">
                <h2>Sleep Analysis Dashboard</h2>
                <p>Real-time monitoring of your sleep patterns and health vitals</p>
            </div>

            <div class="status-grid">
                <div class="status-card">
                    <h3>Heart Rate</h3>
                    <div class="status-value status-normal" id="heartRate">72 BPM</div>
                    <div class="status-indicator">Normal</div>
                </div>
                <div class="status-card">
                    <h3>Body Temperature</h3>
                    <div class="status-value status-normal" id="temperature">36.5°C</div>
                    <div class="status-indicator">Normal</div>
                </div>
                <div class="status-card">
                    <h3>Sleep Quality</h3>
                    <div class="status-value status-normal" id="sleepQuality">85%</div>
                    <div class="status-indicator">Good</div>
                </div>
                <div class="status-card">
                    <h3>Sleep Apnea Risk</h3>
                    <div class="status-value status-normal" id="apneaRisk">Low</div>
                    <div class="status-indicator">No Issues</div>
                </div>
            </div>

            <div class="chart-container">
                <h3 style="color: #4fc3f7; margin-bottom: 20px;">Vital Signs Monitoring</h3>
                <div class="chart">
                    <div class="chart-line"></div>
                </div>
            </div>

            <div class="control-panel">
                <button class="control-btn" id="monitorBtn" onclick="toggleMonitoring()">Start Monitoring</button>
                <button id ="simulateAlertButton" class="control-btn" onclick="simulateAbnormality()">Simulate Alert</button>
                <button class="control-btn" onclick="showHealthRecords()">View Records</button>
            </div>
        </div>
    </div>

    <!-- About Page -->
    <div id="about" class="page about-page">
        <div class="about-container">
            <div class="about-header">
                <h2>About SomnoShield</h2>
                <p>Advanced AI-powered sleep monitoring system designed to protect your health while you rest. Our technology combines cutting-edge sensors with intelligent analysis to provide comprehensive sleep health monitoring.</p>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">🛡️</div>
                    <h3>Smart Protection</h3>
                    <p>Continuous monitoring with intelligent alerts for potential health risks including sleep apnea, irregular heart rhythms, and temperature fluctuations.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🧠</div>
                    <h3>AI Analysis</h3>
                    <p>Machine learning algorithms analyze your sleep patterns and provide personalized recommendations to improve your sleep quality and overall health.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📱</div>
                    <h3>Mobile Integration</h3>
                    <p>Seamless connectivity with your smartphone via Bluetooth for real-time data synchronization and remote monitoring capabilities.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🚨</div>
                    <h3>Emergency Response</h3>
                    <p>Automated emergency protocols that can contact healthcare providers or emergency services when critical health events are detected.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📊</div>
                    <h3>Detailed Reports</h3>
                    <p>Comprehensive health reports with trends, insights, and recommendations based on your long-term sleep and health data.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🔒</div>
                    <h3>Privacy Secure</h3>
                    <p>End-to-end encryption ensures your health data remains private and secure, with full compliance to healthcare data protection standards.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profile" class="page profile-page">
        <div class="profile-container">
            <div class="profile-header">
                <div class="profile-avatar">👤</div>
                <h2 style="color: #4fc3f7; margin-bottom: 10px;">User Profile</h2>
                <p style="opacity: 0.8;">Manage your account and health preferences</p>
            </div>

            <div class="profile-info">
                <div class="info-card">
                    <h3>Personal Information</h3>
                    <div class="info-item">
                        <span class="info-label">Name:</span>
                        <span class="info-value" id="userName">Guest User</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Age:</span>
                        <span class="info-value">28 years</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Email:</span>
                        <span class="info-value">user@somnoshield.com</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Member Since:</span>
                        <span class="info-value">January 2024</span>
                    </div>
                </div>

                <div class="info-card">
                    <h3>Health Statistics</h3>
                    <div class="info-item">
                        <span class="info-label">Total Sleep Hours:</span>
                        <span class="info-value">2,847 hours</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Average Sleep Quality:</span>
                        <span class="info-value">82%</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Health Alerts:</span>
                        <span class="info-value">3 resolved</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Last Check-up:</span>
                        <span class="info-value">2 days ago</span>
                    </div>
                </div>

                <div class="info-card">
                    <h3>Device Settings</h3>
                    <div class="info-item">
                        <span class="info-label">Connected Devices:</span>
                        <span class="info-value">2 active</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Alert Sensitivity:</span>
                        <span class="info-value">Medium</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Emergency Contact:</span>
                        <span class="info-value">+1 (555) 123-4567</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Data Backup:</span>
                        <span class="info-value">Enabled</span>
                    </div>
                </div>

                <div class="info-card">
                    <h3>Preferences</h3>
                    <div class="info-item">
                        <span class="info-label">Notification Type:</span>
                        <span class="info-value">Push + Email</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Report Frequency:</span>
                        <span class="info-value">Weekly</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Privacy Mode:</span>
                        <span class="info-value">High</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Auto Emergency:</span>
                        <span class="info-value">Enabled</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Page -->
    <div id="login" class="page auth-page">
        <div class="auth-container">
            <h2>Login to SomnoShield</h2>
            <form id="loginForm">
                <div class="input-group">
                    <label>Email Address</label>
                    <input type="email" id="loginEmail" placeholder="Enter your email" required>
                </div>
                <div class="input-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" placeholder="Enter your password" required>
                </div>
                <button type="submit" class="auth-btn">Login</button>
            </form>
            <div class="auth-switch">
                Don't have an account? <a onclick="showPage('signup')">Sign up here</a>
            </div>
        </div>
    </div>

    <!-- Signup Page -->
    <div id="signup" class="page auth-page">
        <div class="auth-container">
            <h2>Create Account</h2>
            <form id="signupForm">
                <div class="input-group">
                    <label>Full Name</label>
                    <input type="text" id="signupName" placeholder="Enter your full name" required>
                </div>
                <div class="input-group">
                    <label>Email Address</label>
                    <input type="email" id="signupEmail" placeholder="Enter your email" required>
                </div>
                <div class="input-group">
                    <label>Password</label>
                    <input type="password" id="signupPassword" placeholder="Create a password" required>
                </div>
                <div class="input-group">
                    <label>Confirm Password</label>
                    <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
                </div>
                <button type="submit" class="auth-btn">Create Account</button>
            </form>
            <div class="auth-switch">
                Already have an account? <a onclick="showPage('login')">Login here</a>
            </div>
        </div>
    </div>

    <!-- Emergency Alert System -->
    <button id="safeButton" class="stop-alert-btn" onclick="stopAlert()">'M OKAY - STOP ALERT</button>
    <div id="emergencyAlert" class="emergency-alert">
        <div class="alert-icon">⚠️</div>
        <div class="alert-message" id="alertMessage">
            SLEEP ABNORMALITY DETECTED<br>
            Potential health risk identified during sleep monitoring
        </div>
        <div class="alert-timer" id="alertTimer">15</div>
        <div class="alert-actions">
            <button class="stop-alert-btn" onclick="stopAlert()">I'M OKAY - STOP ALERT</button>
        </div>
        <div style="margin-top: 20px; font-size: 18px;">
            Emergency services will be contacted if alert continues...
        </div>
    </div>

    <!-- Health Recommendations Panel -->
    <div id="recommendationsPanel" class="recommendations-panel">
        <h3>Health Recommendations</h3>
        <div class="abnormality-detected">
            <div class="abnormality-type" id="abnormalityType">Sleep Apnea Episode Detected</div>
            <div style="font-size: 14px; opacity: 0.9;">
                Detected at: <span id="detectionTime">2:34 AM</span>
            </div>
        </div>

        <div class="recommendation-item">
            <h4>🛏️ Sleep Position</h4>
            <p>Try sleeping on your side instead of your back. Side sleeping can help keep airways open and reduce apnea episodes by 40-60%.</p>
        </div>

        <div class="recommendation-item">
            <h4>🏃‍♂️ Lifestyle Changes</h4>
            <p>Regular exercise and weight management can significantly improve sleep apnea. Even a 10% weight reduction can reduce apnea episodes.</p>
        </div>

        <div class="recommendation-item">
            <h4>🚫 Avoid Before Sleep</h4>
            <p>Avoid alcohol, sedatives, and large meals 3-4 hours before bedtime as they can relax throat muscles and worsen breathing issues.</p>
        </div>

        <div class="recommendation-item">
            <h4>🏥 Medical Consultation</h4>
            <p>Consider consulting a sleep specialist for a comprehensive sleep study. Early intervention can prevent serious health complications.</p>
        </div>

        <div class="recommendation-item">
            <h4>💨 Breathing Exercises</h4>
            <p>Practice breathing exercises and throat strengthening exercises. These can improve muscle tone and reduce airway collapse.</p>
        </div>

        <button class="close-recommendations-btn" onclick="closeRecommendations()">Close Recommendations</button>
    </div>

    <!-- Health Records Panel -->
    <div id="healthRecordsPanel" class="health-records-panel">
        <button class="close-records-btn" onclick="closeHealthRecords()">×</button>
        <div class="records-header">
            <h3>Health Records Archive</h3>
            <p style="opacity: 0.8; font-size: 14px;">Complete history of your sleep health monitoring</p>
        </div>

        <div class="record-item">
            <div class="record-date">January 15, 2024 - 2:34 AM</div>
            <div class="record-status critical">Critical Alert</div>
            <div class="record-details">
                <strong>Sleep Apnea Episode:</strong> 45-second breathing interruption detected. Heart rate dropped to 52 BPM. User responded to alert within 8 seconds.
                <br><br>
                <strong>Action Taken:</strong> Emergency protocol initiated, breathing normalized after position change.
            </div>
        </div>

        <div class="record-item">
            <div class="record-date">January 12, 2024 - 3:22 AM</div>
            <div class="record-status warning">Warning Alert</div>
            <div class="record-details">
                <strong>Irregular Heart Rate:</strong> Heart rate spiked to 105 BPM during REM sleep. Temperature slightly elevated at 37.2°C.
                <br><br>
                <strong>Resolution:</strong> Vitals returned to normal range within 15 minutes. Possible stress-related episode.
            </div>
        </div>

        <div class="record-item">
            <div class="record-date">January 10, 2024 - 11:45 PM</div>
            <div class="record-status normal">Normal Session</div>
            <div class="record-details">
                <strong>Healthy Sleep Pattern:</strong> 7.5 hours of quality sleep with 4 complete REM cycles. Average heart rate: 68 BPM.
                <br><br>
                <strong>Sleep Quality Score:</strong> 89% - Excellent recovery metrics detected.
            </div>
        </div>

        <div class="record-item">
            <div class="record-date">January 8, 2024 - 1:15 AM</div>
            <div class="record-status warning">Warning Alert</div>
            <div class="record-details">
                <strong>Temperature Spike:</strong> Body temperature reached 38.1°C. Potential fever or infection indicators.
                <br><br>
                <strong>Recommendation:</strong> Monitor symptoms, increase hydration, consider medical consultation if persistent.
            </div>
        </div>

        <div class="record-item">
            <div class="record-date">January 5, 2024 - 4:10 AM</div>
            <div class="record-status normal">Normal Session</div>
            <div class="record-details">
                <strong>Restful Sleep:</strong> Deep sleep phases well-maintained. Optimal recovery indicators across all metrics.
                <br><br>
                <strong>Notable:</strong> Consistent sleep schedule contributing to improved overall health metrics.
            </div>
        </div>

        <div class="record-item">
            <div class="record-date">January 2, 2024 - 2:58 AM</div>
            <div class="record-status critical">Critical Alert</div>
            <div class="record-details">
                <strong>Severe Bradycardia:</strong> Heart rate dropped to 38 BPM for extended period. Potential cardiac episode.
                <br><br>
                <strong>Emergency Response:</strong> Alert triggered, emergency contact notified, user awakened successfully.
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let isMonitoring = false;
        let alertTimer = null;
        let alertTimeLeft = 15;
        let recommendationTimer = null;
        let emergencyTimer = null;
        let currentUser = null;

        // Health metrics simulation
        let healthMetrics = {
            heartRate: 72,
            temperature: 36.5,
            sleepQuality: 85,
            apneaRisk: 'Low'
        };

        // Page navigation
        function showPage(pageId) {
            // Hide all pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => {
                page.classList.remove('active');
            });

            // Show selected page
            const selectedPage = document.getElementById(pageId);
            if (selectedPage) {
                selectedPage.classList.add('active');
            }

            // Update navigation buttons
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(btn => {
                btn.classList.remove('active');
            });

            // Update navbar visibility
            const navbar = document.querySelector('.navbar');
            if (pageId === 'landing') {
                navbar.style.background = 'rgba(10, 15, 44, 0.7)';
            } else {
                navbar.style.background = 'rgba(10, 15, 44, 0.9)';
            }
        }

        // 3D bedroom interaction
        let isFollowing = false;
        let mouseX = 0;
        let mouseY = 0;
        let lastMouseX = 0;
        let characterFollowTimeout = null;
        let isDragging = false;
        let startX = 0;
        let startY = 0;
        let currentRotationX = 0;
        let currentRotationY = 0;

        const bedroomScene = document.getElementById('bedroomScene');

        bedroomScene.addEventListener('mousedown', startDrag);
        bedroomScene.addEventListener('mousemove', drag);
        bedroomScene.addEventListener('mouseup', endDrag);
        bedroomScene.addEventListener('mouseleave', endDrag);

        function startDrag(e) {
            isDragging = true;
            startX = e.clientX;
            startY = e.clientY;
            bedroomScene.style.cursor = 'grabbing';
        }

        function drag(e) {
            if (!isDragging) return;
            
            const deltaX = e.clientX - startX;
            const deltaY = e.clientY - startY;
            
            currentRotationY += deltaX * 0.5;
            currentRotationX -= deltaY * 0.5;
            
            // Limit rotation
            currentRotationX = Math.max(-30, Math.min(30, currentRotationX));
            
            bedroomScene.style.transform = `rotateX(${currentRotationX}deg) rotateY(${currentRotationY}deg)`;
            
            startX = e.clientX;
            startY = e.clientY;
        }

        function endDrag() {
            isDragging = false;
            bedroomScene.style.cursor = 'grab';
        }

        // Character interaction
        function startAnalysis() {
            showPage('analysis');
            setTimeout(() => {
                toggleMonitoring();
            }, 1000);
        }

        // Analysis functions
        function toggleMonitoring() {
            const monitorBtn = document.getElementById('monitorBtn');
            
            if (!isMonitoring) {
                isMonitoring = true;
                monitorBtn.textContent = 'Stop Monitoring';
                monitorBtn.classList.add('active');
                startHealthMonitoring();
                showNotification('Sleep monitoring started', 'success');
            } else {
                isMonitoring = false;
                monitorBtn.textContent = 'Start Monitoring';
                monitorBtn.classList.remove('active');
                stopHealthMonitoring();
                showNotification('Sleep monitoring stopped', 'info');
            }
        }

        function startHealthMonitoring() {
            if (!isMonitoring) return;
            
            // Simulate realistic health data
            setTimeout(() => {
                updateHealthMetrics();
                if (isMonitoring) {
                    startHealthMonitoring();
                }
            }, 2000);
        }

        function stopHealthMonitoring() {
            // Stop all monitoring timers
            if (alertTimer) clearInterval(alertTimer);
            if (recommendationTimer) clearTimeout(recommendationTimer);
            if (emergencyTimer) clearTimeout(emergencyTimer);
        }

        function updateHealthMetrics() {
            // Simulate realistic variations
            healthMetrics.heartRate += (Math.random() - 0.5) * 4;
            healthMetrics.heartRate = Math.max(45, Math.min(120, healthMetrics.heartRate));
            
            healthMetrics.temperature += (Math.random() - 0.5) * 0.2;
            healthMetrics.temperature = Math.max(35.5, Math.min(39.0, healthMetrics.temperature));
            
            healthMetrics.sleepQuality += (Math.random() - 0.5) * 5;
            healthMetrics.sleepQuality = Math.max(0, Math.min(100, healthMetrics.sleepQuality));

            // Update UI
            document.getElementById('heartRate').textContent = Math.round(healthMetrics.heartRate) + ' BPM';
            document.getElementById('temperature').textContent = healthMetrics.temperature.toFixed(1) + '°C';
            document.getElementById('sleepQuality').textContent = Math.round(healthMetrics.sleepQuality) + '%';

            // Update status colors
            updateStatusColors();

            // Check for abnormalities
            checkForAbnormalities();
        }

        function updateStatusColors() {
            const heartRateEl = document.getElementById('heartRate');
            const tempEl = document.getElementById('temperature');
            const qualityEl = document.getElementById('sleepQuality');

            // Heart rate status
            if (healthMetrics.heartRate < 50 || healthMetrics.heartRate > 100) {
                heartRateEl.className = 'status-value status-critical';
            } else if (healthMetrics.heartRate < 60 || healthMetrics.heartRate > 90) {
                heartRateEl.className = 'status-value status-warning';
            } else {
                heartRateEl.className = 'status-value status-normal';
            }

            // Temperature status
            if (healthMetrics.temperature > 38.0 || healthMetrics.temperature < 35.5) {
                tempEl.className = 'status-value status-critical';
            } else if (healthMetrics.temperature > 37.5 || healthMetrics.temperature < 36.0) {
                tempEl.className = 'status-value status-warning';
            } else {
                tempEl.className = 'status-value status-normal';
            }

            // Sleep quality status
            if (healthMetrics.sleepQuality < 60) {
                qualityEl.className = 'status-value status-critical';
            } else if (healthMetrics.sleepQuality < 75) {
                qualityEl.className = 'status-value status-warning';
            } else {
                qualityEl.className = 'status-value status-normal';
            }
        }

        function checkForAbnormalities() {
            // Check for critical conditions
            const isCritical = (
                healthMetrics.heartRate < 45 || 
                healthMetrics.heartRate > 110 ||
                healthMetrics.temperature > 38.5 ||
                healthMetrics.temperature < 35.0
            );

            if (isCritical && !document.getElementById('emergencyAlert').classList.contains('active')) {
                triggerEmergencyAlert();
            }
        }

        function simulateAbnormality() {
            // Simulate critical values for demonstration
            healthMetrics.heartRate = 42;
            healthMetrics.temperature = 39.2;
            healthMetrics.sleepQuality = 45;
            healthMetrics.apneaRisk = 'High';
            
            updateHealthMetrics();
            triggerEmergencyAlert();
        }

        function triggerEmergencyAlert() {
    const alertEl = document.getElementById('emergencyAlert');
    
    // Ensure the alert is visible and reset
    alertEl.style.display = '';
    alertEl.classList.add('active');
    
    alertTimeLeft = 15;
    document.getElementById('alertTimer').textContent = alertTimeLeft;
    
    // Clear any existing timers first
    if (alertTimer) {
        clearInterval(alertTimer);
    }
    
    // Start countdown
    alertTimer = setInterval(() => {
        alertTimeLeft--;
        document.getElementById('alertTimer').textContent = alertTimeLeft;
        
        if (alertTimeLeft <= 0) {
            clearInterval(alertTimer);
            alertTimer = null;
            showRecommendations();
        }
    }, 1000);

    // Play alert sound (if available)
    playAlertSound();
}

        function stopAlert() {
    const alertEl = document.getElementById('emergencyAlert');
    
    // Force remove the active class immediately
    alertEl.classList.remove('active');
    alertEl.style.display = 'none';
    
    // Clear all timers
    if (monitoringTimer) {
    clearInterval(monitoringTimer);
    monitoringTimer = null;
}
    if (alertTimer) {
        clearInterval(alertTimer);
        alertTimer = null;
    }
    
    if (recommendationTimer) {
        clearTimeout(recommendationTimer);
        recommendationTimer = null;
    }
    
    if (emergencyTimer) {
        clearTimeout(emergencyTimer);
        emergencyTimer = null;
    }

    // Reset alert state
    alertTimeLeft = 15;
    document.getElementById('alertTimer').textContent = alertTimeLeft;
    
    // Force a reflow to ensure styles are applied
    alertEl.offsetHeight;
    
    // Reset display after a short delay
    setTimeout(() => {
        alertEl.style.display = '';
    }, 100);

    showNotification('Alert stopped - Stay safe!', 'success');
}

        function showRecommendations() {
            const alertEl = document.getElementById('emergencyAlert');
            const recPanel = document.getElementById('recommendationsPanel');
            
            alertEl.classList.remove('active');
            
            // Set abnormality details
            document.getElementById('abnormalityType').textContent = getAbnormalityType();
            document.getElementById('detectionTime').textContent = new Date().toLocaleTimeString();
            
            recPanel.classList.add('active');
            
            // Set timer for emergency call (another 15 seconds)
            recommendationTimer = setTimeout(() => {
                initiateEmergencyCall();
            }, 15000);
        }

        function getAbnormalityType() {
            if (healthMetrics.heartRate < 50) return 'Bradycardia (Slow Heart Rate) Detected';
            if (healthMetrics.heartRate > 100) return 'Tachycardia (Rapid Heart Rate) Detected';
            if (healthMetrics.temperature > 38.0) return 'Hyperthermia (High Temperature) Detected';
            if (healthMetrics.temperature < 36.0) return 'Hypothermia (Low Temperature) Detected';
            return 'Sleep Apnea Episode Detected';
        }

        function closeRecommendations() {
            const recPanel = document.getElementById('recommendationsPanel');
            recPanel.classList.remove('active');
            
            if (recommendationTimer) {
                clearTimeout(recommendationTimer);
                recommendationTimer = null;
            }

            // Add record to health records
            addHealthRecord();
        }

        function initiateEmergencyCall() {
            showNotification('Emergency services contacted - Help is on the way!', 'critical');
            
            // In a real implementation, this would contact emergency services
            console.log('Emergency call initiated');
            
            // Close recommendations panel
            closeRecommendations();
        }

        function addHealthRecord() {
            // This would typically save to a database
            const record = {
                date: new Date().toLocaleString(),
                type: getAbnormalityType(),
                status: 'resolved',
                vitals: { ...healthMetrics }
            };
            
            console.log('Health record saved:', record);
        }

        // Health Records functions
        function showHealthRecords() {
            const recordsPanel = document.getElementById('healthRecordsPanel');
            recordsPanel.classList.add('active');
        }

        function closeHealthRecords() {
            const recordsPanel = document.getElementById('healthRecordsPanel');
            recordsPanel.classList.remove('active');
        }

        // Authentication functions
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simple validation (in real app, this would be server-side)
            if (email && password) {
                currentUser = {
                    name: email.split('@')[0],
                    email: email
                };
                
                document.getElementById('userName').textContent = currentUser.name;
                showNotification('Login successful!', 'success');
                showPage('analysis');
            } else {
                showNotification('Please enter valid credentials', 'error');
            }
        });

        document.getElementById('signupForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (password !== confirmPassword) {
                showNotification('Passwords do not match', 'error');
                return;
            }
            
            if (name && email && password) {
                currentUser = {
                    name: name,
                    email: email
                };
                
                document.getElementById('userName').textContent = currentUser.name;
                showNotification('Account created successfully!', 'success');
                showPage('analysis');
            } else {
                showNotification('Please fill in all fields', 'error');
            }
        });

        // Utility functions
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: ${type === 'success' ? '#00ff88' : type === 'error' ? '#ff6b6b' : type === 'critical' ? '#ff0000' : '#4fc3f7'};
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                font-weight: bold;
                z-index: 10001;
                animation: slideIn 0.3s ease;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        function playAlertSound() {
            // Create audio context for alert sound
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                oscillator.frequency.setValueAtTime(600, audioContext.currentTime + 0.5);
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime + 1);
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.setValueAtTime(0, audioContext.currentTime + 1.5);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 1.5);
            } catch (error) {
                console.log('Audio not supported');
            }
        }

        // Add CSS animations for notifications
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            showPage('landing');
            
            // Start with some sample data
            setTimeout(() => {
                updateHealthMetrics();
            }, 1000);
        });

        // Handle mouse movement for auth page glow effect
        document.addEventListener('mousemove', function(e) {
            const authPages = document.querySelectorAll('.auth-page');
            authPages.forEach(page => {
                if (page.classList.contains('active')) {
                    const rect = page.getBoundingClientRect();
                    const x = ((e.clientX - rect.left) / rect.width) * 100;
                    const y = ((e.clientY - rect.top) / rect.height) * 100;
                    page.style.setProperty('--mouseX', x + '%');
                    page.style.setProperty('--mouseY', y + '%');
                }
            });
        });
        document.getElementById('safeButton').addEventListener('click', () => {
    stopAlert();
    showNotification('Monitoring stopped. Stay safe!', 'success');
});

// "Simulate Alert" button starts alert again
document.getElementById('simulateAlertButton').addEventListener('click', () => {
    triggerEmergencyAlert();
});
    
    </script>
</body>
</html>